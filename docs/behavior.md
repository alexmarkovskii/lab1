# Поведенчиские модели

## Диаграммы состояний

 [![](https://mermaid.ink/img/pako:eNq1Vc1u2kAQfhVrj5Uh2ECxrYhTrz311rqyLHCC1WBHjpGaIqQE1KIqUapIPbaNor6ARUJC-MsrzL5RZ2djQKoCVFBLeMezM998OzvDNFklrHrMYplMxg5iPz7wLAW-Qw8GcAd9mODaV-AH_8a7kNgBmR3Fbuy98t39yK3bgYIPaRR_z5HC7m6lFvoVr1xe3JYoSlPqxPPuxXslkykrCvyERATgbX7uYNAp9PgZPDj8BHUdVNzawdxttTWhwhX0UdWHMa6nvA0D6TAWNIRf4pA64Sf4FiAdfuHAI4r3aPsFfxcLQbeAtpTWCFXSSZwDhrjbhiHvbI3phgGWkn8kyP9Kf-MQfx_ga1rhEmFWSvg9RHGKhre4PaFSO3uG4r-BEIlZo2CvXRPfEdqS47znxmnPpVFnXnSOX4gmsnCf5qcnOIl0IVQCI35OgJJVmjyqAYm_JDQ_VUi6w3cfHnaeoD_LTwVuCGxCeUXF2gxvKBkDVExhIi5rJcvlJBerAPeeJfKb3EZIo_tEBWulyy9520EocZqpyNmqlFD_iDg7M6LTpelYOzCxXOMvcAa86eVvrxO2cMnbYdOSC1NZ3Yvqrl_FoUajxmZxzat7NrNQrLrRB5vZQQvt3EYcvjkOKsyKo4anssZhdT7XUqVX9eMwei2HJM1KlR26AbOa7COzikbWNIycaWiFQjGv6UWVHTNL0_PZvFHIlQyzZBZMXTNbKvsUhgiay5q5l3oxXyrqJVMr5HRdZVHY2K8xa889OPII_C2ZivitP8PJftc?type=png)](https://mermaid.live/edit#pako:eNq1Vc1u2kAQfhVrj5Uh2ECxrYhTrz311rqyLHCC1WBHjpGaIqQE1KIqUapIPbaNor6ARUJC-MsrzL5RZ2djQKoCVFBLeMezM998OzvDNFklrHrMYplMxg5iPz7wLAW-Qw8GcAd9mODaV-AH_8a7kNgBmR3Fbuy98t39yK3bgYIPaRR_z5HC7m6lFvoVr1xe3JYoSlPqxPPuxXslkykrCvyERATgbX7uYNAp9PgZPDj8BHUdVNzawdxttTWhwhX0UdWHMa6nvA0D6TAWNIRf4pA64Sf4FiAdfuHAI4r3aPsFfxcLQbeAtpTWCFXSSZwDhrjbhiHvbI3phgGWkn8kyP9Kf-MQfx_ga1rhEmFWSvg9RHGKhre4PaFSO3uG4r-BEIlZo2CvXRPfEdqS47znxmnPpVFnXnSOX4gmsnCf5qcnOIl0IVQCI35OgJJVmjyqAYm_JDQ_VUi6w3cfHnaeoD_LTwVuCGxCeUXF2gxvKBkDVExhIi5rJcvlJBerAPeeJfKb3EZIo_tEBWulyy9520EocZqpyNmqlFD_iDg7M6LTpelYOzCxXOMvcAa86eVvrxO2cMnbYdOSC1NZ3Yvqrl_FoUajxmZxzat7NrNQrLrRB5vZQQvt3EYcvjkOKsyKo4anssZhdT7XUqVX9eMwei2HJM1KlR26AbOa7COzikbWNIycaWiFQjGv6UWVHTNL0_PZvFHIlQyzZBZMXTNbKvsUhgiay5q5l3oxXyrqJVMr5HRdZVHY2K8xa889OPII_C2ZivitP8PJftc)
 **Описание:**
 В начале каждого раунда мяч начинает циклически перемещаться на новые координаты
 При регистрации столкновения с мячом выполняются следующие действия:
 - Если мяч сталкивается с верхней или нижней границей поля, происходит изменение его вертикальной скорости на противоположную.
 - Если мяч сталкивается с левой или правой ракеткой, происходит изменение его горизонтальной скорости на противоположную.
 - Если мяч сталкивается с левой или правой границей поля, происходит увеличение счёта игрока на 1, после чего игровые объекты перемещаются на стартовые позиции. Начинается новый раунд.

[![](https://mermaid.ink/img/pako:eNqtVV1vEkEU_SuTeamapeGrsN00PPnqk2-6ZrNZtmVjYRtYjJWQINhUU1JiYqIx0ab_AGkp2xboX7jzj7x3FthFoFEpBLI7c-ecc--5M1Pjlpu3ucZjsZhe8hxv39YYfIUu3IEv3os2Ew3ow0C04Fa0RRO69GPgw4VoiBMGPSY-YPQ13DIMD-Z9-eTDDfh6SQJXPNOznzrmXtks6iWGHznCnF0jeNjZsQquY9m53LLpxIp5OF9g7LJaEEGfl09esVgsxxj8xOkbUiyaom3AEHMaiVMDBtNMwTegZyymIFoMC_KN0qW8Kb4HfUT6SBDQDcnW4iCVYbYsRA0HKQTOiBuBr2klocEF3EpNIxhDP8I6dQjV_8CAq6lzNzLyTpYKeij2CF8vo4ksUI7R-5Y4RsEyMR-GomMgBI23Mb0x0hN6H987ND8wsCnGKHQoTlAkfiUFafm-gp7heJ_-ZlIjlX1ACdFCo5wzjBgHjkpJaElLfMJXsqYXwKIoX3RmfY5RtNqpeI5V2bQqbxYrFxRuvh-my2ULkIVXlAVZdikLgplQCSZkWrit5sn-UIj7si-aqxScI-qA0p5XsGyj3sMonbmfdq1cpdQvOPhLNvLEYmoT7I9gEXkwopdHuBXRegWnCHcYmC07XUFpx-KzaD6O6HpI2JmruJOxs2T9GtPOQ-yN-bptYEkjSv7Fi3XbZ96Yv5U7bRlxRGedRIoyz-eyIigAoftjUXoEYHnA_x9xS6o4OayDg7cbHtV1rvCiXS6aTh6vPXlZ6Nwr2EVb52gYz5vl1zrXSxRnVj33-WHJ4ppXrtoKrx7kw3uMa7vmfgVH7bzjueVnwT0qr1OFH5glrtX4W64l4_HNbVVNpFPbybi6rabTCj_kmprZTKnpRDyhZrKZ7FZWrSv8nesiKobHM8mtVDaxlcZZNZ5SeNmt7hVmhAj-QoaSqvpvNRZR0g?type=png)](https://mermaid.live/edit#pako:eNqtVV1vEkEU_SuTeamapeGrsN00PPnqk2-6ZrNZtmVjYRtYjJWQINhUU1JiYqIx0ab_AGkp2xboX7jzj7x3FthFoFEpBLI7c-ecc--5M1Pjlpu3ucZjsZhe8hxv39YYfIUu3IEv3os2Ew3ow0C04Fa0RRO69GPgw4VoiBMGPSY-YPQ13DIMD-Z9-eTDDfh6SQJXPNOznzrmXtks6iWGHznCnF0jeNjZsQquY9m53LLpxIp5OF9g7LJaEEGfl09esVgsxxj8xOkbUiyaom3AEHMaiVMDBtNMwTegZyymIFoMC_KN0qW8Kb4HfUT6SBDQDcnW4iCVYbYsRA0HKQTOiBuBr2klocEF3EpNIxhDP8I6dQjV_8CAq6lzNzLyTpYKeij2CF8vo4ksUI7R-5Y4RsEyMR-GomMgBI23Mb0x0hN6H987ND8wsCnGKHQoTlAkfiUFafm-gp7heJ_-ZlIjlX1ACdFCo5wzjBgHjkpJaElLfMJXsqYXwKIoX3RmfY5RtNqpeI5V2bQqbxYrFxRuvh-my2ULkIVXlAVZdikLgplQCSZkWrit5sn-UIj7si-aqxScI-qA0p5XsGyj3sMonbmfdq1cpdQvOPhLNvLEYmoT7I9gEXkwopdHuBXRegWnCHcYmC07XUFpx-KzaD6O6HpI2JmruJOxs2T9GtPOQ-yN-bptYEkjSv7Fi3XbZ96Yv5U7bRlxRGedRIoyz-eyIigAoftjUXoEYHnA_x9xS6o4OayDg7cbHtV1rvCiXS6aTh6vPXlZ6Nwr2EVb52gYz5vl1zrXSxRnVj33-WHJ4ppXrtoKrx7kw3uMa7vmfgVH7bzjueVnwT0qr1OFH5glrtX4W64l4_HNbVVNpFPbybi6rabTCj_kmprZTKnpRDyhZrKZ7FZWrSv8nesiKobHM8mtVDaxlcZZNZ5SeNmt7hVmhAj-QoaSqvpvNRZR0g)

 **Описание:**
 При завершении игры пользователь вводит имя для записи в статистику или выходит из меню записи в главное меню игры.
 Если файл статистики не существует:
    - Создать файл статистики
 Открыть файл статистики для записи, записать сформированную запись в файл и его отсортировать
 После записи статистики выполнтить переход из меню записи в статистики в основное меню игры

[![](https://mermaid.ink/img/pako:eNq1Vctu00AU_RVrliiJ7Dwdq8qKLSt2YGRZidtENHHlOhIlipSHoKBWLLpBQgJ-wUkxTfP8hTt_xJmxGydAaKjAi8R35s45Z-65M-6wqltzmMHS6bTZ8hv-sWModEVjWtI3hRYU8D4f8B7CkKYKTRS6oYBWfMj7MqZr3uMXZkuuP_Vt33ncsI88u2m2FDxyRGkcWtHLwUG17jaqTqXyu-nsjnn6uEHZiWbE8_zRCyWdrij0hQ8gcASZAeRNIPjSojkUL_gH6-dNJOv_bp2kupOagKz3JpV8pRD5Id0CeWLR2KJrmgF9DDSgbKDHlVNQ7s9I-A6yAQUKTWXmCv8IxvyCvxFWULCbcUkzfgn9S7AIkFDEllhLI2xKbC7kA0sootUW8acdXML4ULp_p2ujaA8mvEdu1HPChXiJzFjSrQWFgUSdC1ze20vM_nBbxmZ_rXM2Vi6NTdolJhRkN7JXzoW14ILLU3QPH6J4or5zPoxrwYei6pHmYZy_QNVQa1Q9CQCMrplgcCHO1g5BV0geYwt92Ws4HEup7n0iAyF--DtEI5gc7scO73cpeAhnfELPYYVcFZVsJWSI_Dujgq1zeW_2_-mmf2KxVLa-spJNbMvgbzEwpdkfLwCTwXDPN1kkMJLaZSnWdLym3ajh4pb3ocn8utN0TGbgtWZ7L01mtkSe3fbdp2etKjN8r-2kWPukllzRzDi0j08x6tQavus9ib4E8oOQYid2ixkd9ooZOTWj62pJLZb0kqaWc6VCip1hWMvk1YKml4pqUde0QjbXTbHXrgtYNVPWcsWCns3pWq6QL-ezKea57aP6mhHoz2SqkNX9Aeh2p4s?type=png)](https://mermaid.live/edit#pako:eNq1Vctu00AU_RVrliiJ7Dwdq8qKLSt2YGRZidtENHHlOhIlipSHoKBWLLpBQgJ-wUkxTfP8hTt_xJmxGydAaKjAi8R35s45Z-65M-6wqltzmMHS6bTZ8hv-sWModEVjWtI3hRYU8D4f8B7CkKYKTRS6oYBWfMj7MqZr3uMXZkuuP_Vt33ncsI88u2m2FDxyRGkcWtHLwUG17jaqTqXyu-nsjnn6uEHZiWbE8_zRCyWdrij0hQ8gcASZAeRNIPjSojkUL_gH6-dNJOv_bp2kupOagKz3JpV8pRD5Id0CeWLR2KJrmgF9DDSgbKDHlVNQ7s9I-A6yAQUKTWXmCv8IxvyCvxFWULCbcUkzfgn9S7AIkFDEllhLI2xKbC7kA0sootUW8acdXML4ULp_p2ujaA8mvEdu1HPChXiJzFjSrQWFgUSdC1ze20vM_nBbxmZ_rXM2Vi6NTdolJhRkN7JXzoW14ILLU3QPH6J4or5zPoxrwYei6pHmYZy_QNVQa1Q9CQCMrplgcCHO1g5BV0geYwt92Ws4HEup7n0iAyF--DtEI5gc7scO73cpeAhnfELPYYVcFZVsJWSI_Dujgq1zeW_2_-mmf2KxVLa-spJNbMvgbzEwpdkfLwCTwXDPN1kkMJLaZSnWdLym3ajh4pb3ocn8utN0TGbgtWZ7L01mtkSe3fbdp2etKjN8r-2kWPukllzRzDi0j08x6tQavus9ib4E8oOQYid2ixkd9ooZOTWj62pJLZb0kqaWc6VCip1hWMvk1YKml4pqUde0QjbXTbHXrgtYNVPWcsWCns3pWq6QL-ezKea57aP6mhHoz2SqkNX9Aeh2p4s)

 **Описание:**
 В интерфейсе настроек пользователь выбирает тип игры("по счёту"/"по времени") и вводит в текстовое поле игровой параметр(количество очков, до которого будет продолжаться игра/время игры в секундах)
 Полученные данные проверяются на валидность, если они валидны:
    - Сохранить данные и преобразовать их для запуска игры
 Иначе:
    - Вывести сообщение об ошибке и очистить поле ввода, после чего пользователь может повторить ввод
 Игра начинается при нажатии на кнопку "start", если пользователь нажимает на кнопку "back" происходит переход в главное меню игры


## Диаграмма последовательности

[![](https://mermaid.ink/img/pako:eNqtVE1v00AQ_SurvSG5oYkTO_ahB4TECQmpcEG-rOyltYjt4DgSJYqUD4kgUbXiBBcOiD8QBULTBqd_YfcfMTtru0RNOaBaine9mffezNvZHVA_CTh1aY-_6fPY549DdpSyyIsJPC96PCV7BwfkCYu4S8RnMRfXcirH4gpmSzkhYiV-yJGc6vhOknSJ-KKWxFwvbdE8Y0HQUUTfgQZCxEKs5TkS4eeVmsJ7Iy5v0Eob0Y9YpwPYr2IuZ_CbyFMifgLFSvwSS5HDuLxBqeBtzW9AvRFroM9hXNyGaKG9B6XQSlyI3zpMi-VYfpH3XfgqUTneLQh_EIQvVJ0PK0b4INo5VHwPEX-5oMvA9A79JOUEBKZIuobgWZEiaM7kJzm5u6hrsHgEKCgMEyxKW2B1ylfYkVORwyafqeANeKByWcmzHZyVt_fHCvY9DyOeYpPcKm8CTJeoMvoHUDmKhsNYAFXPrnFR7QBMVJPlmJky-7xs5I87aNHve6HlcaAnFbc6Gm51ZAj4MtcK8gP2S3GKsDKi9j5jWdjLQr9XHkeQGZen4aKwe6s1dbv8H5YaFIQjFgZwRQzUmkezYx5xj7owDVj62qNePIQ41s-Sw5PYp26W9rlB-92AZeV1Qt1XrNODVR6EWZI-1XcOXj0G7bKYugP6lrpOs-a0G3Xbts2mabcMekLdpl2zbMu02nbdNO22s28NDfouSYCzXttvWY7ZMp2mZdUbjYZB06R_dFypAfNLjFQpDf8A0KNo2Q?type=png)](https://mermaid.live/edit#pako:eNqtVE1v00AQ_SurvSG5oYkTO_ahB4TECQmpcEG-rOyltYjt4DgSJYqUD4kgUbXiBBcOiD8QBULTBqd_YfcfMTtru0RNOaBaine9mffezNvZHVA_CTh1aY-_6fPY549DdpSyyIsJPC96PCV7BwfkCYu4S8RnMRfXcirH4gpmSzkhYiV-yJGc6vhOknSJ-KKWxFwvbdE8Y0HQUUTfgQZCxEKs5TkS4eeVmsJ7Iy5v0Eob0Y9YpwPYr2IuZ_CbyFMifgLFSvwSS5HDuLxBqeBtzW9AvRFroM9hXNyGaKG9B6XQSlyI3zpMi-VYfpH3XfgqUTneLQh_EIQvVJ0PK0b4INo5VHwPEX-5oMvA9A79JOUEBKZIuobgWZEiaM7kJzm5u6hrsHgEKCgMEyxKW2B1ylfYkVORwyafqeANeKByWcmzHZyVt_fHCvY9DyOeYpPcKm8CTJeoMvoHUDmKhsNYAFXPrnFR7QBMVJPlmJky-7xs5I87aNHve6HlcaAnFbc6Gm51ZAj4MtcK8gP2S3GKsDKi9j5jWdjLQr9XHkeQGZen4aKwe6s1dbv8H5YaFIQjFgZwRQzUmkezYx5xj7owDVj62qNePIQ41s-Sw5PYp26W9rlB-92AZeV1Qt1XrNODVR6EWZI-1XcOXj0G7bKYugP6lrpOs-a0G3Xbts2mabcMekLdpl2zbMu02nbdNO22s28NDfouSYCzXttvWY7ZMp2mZdUbjYZB06R_dFypAfNLjFQpDf8A0KNo2Q)

При запуске игры происходит обновление экрана, объекты размещаются на начальные позиции. Пользователь/пользователи(в зависимости от выбранного режима игры), управляют своей ракеткой при помощи клавиатуры. При столкновении мяча с игровыми объектами происходит обновление состояния, если:
 - Мяч столкнулся с ракеткой или верхней/нижней границей игрового поля - изменение направления движения мяча
 - Мяч столкнулся с левой/правой границей игрового поля - начисление очков игроку и начало нового раунда

 При достижении условия окончания игры победителю предлагается внести свой результат в таблицу статистики через отдельное меню(для режима игры против другого пользователя). Условия окончания игры зависят от выбранного типа игры(до количества очков/по времени)
 В процессе игры на экране обновляется игровой таймер, время игры в качестве параметра заносится в таблицу рекордов.
 После завершения игры и записи результата в таблицу, пользователь возвращается в главное меню игры.
