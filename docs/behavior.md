# Поведенчиские модели

## Диаграммы состояний

 [![](https://mermaid.ink/img/pako:eNq1Vc1u2kAQfhVrj5Uh2ECxrYhTrz311rqyLHCC1WBHjpGaIqQE1KIqUapIPbaNor6ARUJC-MsrzL5RZ2djQKoCVFBLeMezM998OzvDNFklrHrMYplMxg5iPz7wLAW-Qw8GcAd9mODaV-AH_8a7kNgBmR3Fbuy98t39yK3bgYIPaRR_z5HC7m6lFvoVr1xe3JYoSlPqxPPuxXslkykrCvyERATgbX7uYNAp9PgZPDj8BHUdVNzawdxttTWhwhX0UdWHMa6nvA0D6TAWNIRf4pA64Sf4FiAdfuHAI4r3aPsFfxcLQbeAtpTWCFXSSZwDhrjbhiHvbI3phgGWkn8kyP9Kf-MQfx_ga1rhEmFWSvg9RHGKhre4PaFSO3uG4r-BEIlZo2CvXRPfEdqS47znxmnPpVFnXnSOX4gmsnCf5qcnOIl0IVQCI35OgJJVmjyqAYm_JDQ_VUi6w3cfHnaeoD_LTwVuCGxCeUXF2gxvKBkDVExhIi5rJcvlJBerAPeeJfKb3EZIo_tEBWulyy9520EocZqpyNmqlFD_iDg7M6LTpelYOzCxXOMvcAa86eVvrxO2cMnbYdOSC1NZ3Yvqrl_FoUajxmZxzat7NrNQrLrRB5vZQQvt3EYcvjkOKsyKo4anssZhdT7XUqVX9eMwei2HJM1KlR26AbOa7COzikbWNIycaWiFQjGv6UWVHTNL0_PZvFHIlQyzZBZMXTNbKvsUhgiay5q5l3oxXyrqJVMr5HRdZVHY2K8xa889OPII_C2ZivitP8PJftc?type=png)](https://mermaid.live/edit#pako:eNq1Vc1u2kAQfhVrj5Uh2ECxrYhTrz311rqyLHCC1WBHjpGaIqQE1KIqUapIPbaNor6ARUJC-MsrzL5RZ2djQKoCVFBLeMezM998OzvDNFklrHrMYplMxg5iPz7wLAW-Qw8GcAd9mODaV-AH_8a7kNgBmR3Fbuy98t39yK3bgYIPaRR_z5HC7m6lFvoVr1xe3JYoSlPqxPPuxXslkykrCvyERATgbX7uYNAp9PgZPDj8BHUdVNzawdxttTWhwhX0UdWHMa6nvA0D6TAWNIRf4pA64Sf4FiAdfuHAI4r3aPsFfxcLQbeAtpTWCFXSSZwDhrjbhiHvbI3phgGWkn8kyP9Kf-MQfx_ga1rhEmFWSvg9RHGKhre4PaFSO3uG4r-BEIlZo2CvXRPfEdqS47znxmnPpVFnXnSOX4gmsnCf5qcnOIl0IVQCI35OgJJVmjyqAYm_JDQ_VUi6w3cfHnaeoD_LTwVuCGxCeUXF2gxvKBkDVExhIi5rJcvlJBerAPeeJfKb3EZIo_tEBWulyy9520EocZqpyNmqlFD_iDg7M6LTpelYOzCxXOMvcAa86eVvrxO2cMnbYdOSC1NZ3Yvqrl_FoUajxmZxzat7NrNQrLrRB5vZQQvt3EYcvjkOKsyKo4anssZhdT7XUqVX9eMwei2HJM1KlR26AbOa7COzikbWNIycaWiFQjGv6UWVHTNL0_PZvFHIlQyzZBZMXTNbKvsUhgiay5q5l3oxXyrqJVMr5HRdZVHY2K8xa889OPII_C2ZivitP8PJftc)
 **Описание:**
 В начале каждого раунда мяч начинает циклически перемещаться на новые координаты
 При регистрации столкновения с мячом выполняются следующие действия:
 - Если мяч сталкивается с верхней или нижней границей поля, происходит изменение его вертикальной скорости на противоположную.
 - Если мяч сталкивается с левой или правой ракеткой, происходит изменение его горизонтальной скорости на противоположную.
 - Если мяч сталкивается с левой или правой границей поля, происходит увеличение счёта игрока на 1, после чего игровые объекты перемещаются на стартовые позиции. Начинается новый раунд.

 [![](https://mermaid.ink/img/pako:eNqtVV1vEkEU_SuTeamapeGbZdP0yVeffNM1mw1sy8ay28BirIQEQVNNicTERGOiTf8B0lK2LdC_cOcfee8ssItAo1IIZHfmzjnn3nNnps4LbtHiGo_FYrrj2d6BpTH4Cj24BV-8FR0mmjCAoWjDjeiIFvTox8CHc9EUJwz6TLzD6Cu4YRgezPvyyYdr8HVHAlc907Me2-Z-xSzrDsOPHGH2nhE87OwUSq5dsHZ3V00n1szD2RJjj9WDCPo8f_SCxWK7jMFPnL4mxaIlOgaMMKex-GTAcJYp-Ab0jeUURJthQb5RupQ3xfdhgEgfCAJ6IdlGHKQyzJaFqOEghcApcSPwFa0kNDiHG6lpDBMYRFhnDqH6HxhwOXPuWkbeylJBH8W-x9eLaCJLlBP0vi2OUbBMzIeR6BoIQeMdTG-C9IQ-wPcuzQ8NbIoJCh2JExSJX0lBWr6voWc4PqC_udRIZe9RQrTQKOcUIyaBo1ISWtIWH_GVrOkHsCjKF915n2MUrbarnl2obheqr5YrFxRusR9my2ULkIWXlAVZdiELgplQCaZkWritFsn-UIj7ciBa6xScIeqQ0l5UsGqj3sEonbmbdqNcpdQvOPhLNvLUYmoT7I9gEXkwppcHuBXRegWnCHcUmC07XUFpx-KzaD2M6LpP2LmruJOxs2T9mrPOQ-ytxbptYUkjSv7Fi03bZ9GYv5UrWenoX2aNAK4O-P_TaUUBpudscGb2wlO2wRVetipl0y7ijSXPeZ17Jats6RxrzYtm5aXOdYfizJrnPj1yClzzKjVL4bXDYngFcW3PPKjiqFW0PbfyJLgC5U2o8EPT4Vqdv-ZaMh7fzqtqIp3KJ-NqXk2nFX7ENTW7nVLTiXhCzeayuUxObSj8jesiKobHs8lMKptLq7lcMpPPKLzi1vZLc0IEfyZDSVXjN_1xKNs?type=png)](https://mermaid.live/edit#pako:eNqtVV1vEkEU_SuTeamapeGbZdP0yVeffNM1mw1sy8ay28BirIQEQVNNicTERGOiTf8B0lK2LdC_cOcfee8ssItAo1IIZHfmzjnn3nNnps4LbtHiGo_FYrrj2d6BpTH4Cj24BV-8FR0mmjCAoWjDjeiIFvTox8CHc9EUJwz6TLzD6Cu4YRgezPvyyYdr8HVHAlc907Me2-Z-xSzrDsOPHGH2nhE87OwUSq5dsHZ3V00n1szD2RJjj9WDCPo8f_SCxWK7jMFPnL4mxaIlOgaMMKex-GTAcJYp-Ab0jeUURJthQb5RupQ3xfdhgEgfCAJ6IdlGHKQyzJaFqOEghcApcSPwFa0kNDiHG6lpDBMYRFhnDqH6HxhwOXPuWkbeylJBH8W-x9eLaCJLlBP0vi2OUbBMzIeR6BoIQeMdTG-C9IQ-wPcuzQ8NbIoJCh2JExSJX0lBWr6voWc4PqC_udRIZe9RQrTQKOcUIyaBo1ISWtIWH_GVrOkHsCjKF915n2MUrbarnl2obheqr5YrFxRusR9my2ULkIWXlAVZdiELgplQCaZkWritFsn-UIj7ciBa6xScIeqQ0l5UsGqj3sEonbmbdqNcpdQvOPhLNvLUYmoT7I9gEXkwppcHuBXRegWnCHcUmC07XUFpx-KzaD2M6LpP2LmruJOxs2T9mrPOQ-ytxbptYUkjSv7Fi03bZ9GYv5UrWenoX2aNAK4O-P_TaUUBpudscGb2wlO2wRVetipl0y7ijSXPeZ17Jats6RxrzYtm5aXOdYfizJrnPj1yClzzKjVL4bXDYngFcW3PPKjiqFW0PbfyJLgC5U2o8EPT4Vqdv-ZaMh7fzqtqIp3KJ-NqXk2nFX7ENTW7nVLTiXhCzeayuUxObSj8jesiKobHs8lMKptLq7lcMpPPKLzi1vZLc0IEfyZDSVXjN_1xKNs)

 **Описание:**
 При завершении игры пользователь вводит имя для записи в статистику или выходит из меню записи в главное меню игры.
 Если файл статистики не существует:
    - Создать файл статистики
 Открыть файл статистики для записи, записать сформированную запись в файл и его отсортировать
 После записи статистики выполнтить переход из меню записи в статистики в основное меню игры

[![](https://mermaid.ink/img/pako:eNqtVc1u2kAQfpXVHitANgRwrIhTrz311rqyLHCC1YAjY6SmCCmA2rSiaqVcIlVq-wqOAwnh9xVm36gza8DQxpRW9cXe3ZlvvvlmZt3iZbdic52n02mj7jv-qa0zuIIQ5jBgMINAdERXXOByCGMGIwb3EMBC9ERHruFWXIi-UZf-Dd_y7aeOdeJZNaPO8JE7zDk2o4-jo3LVdcp2qfTYsfqH82zCOVxvUGpFJ_S8fPKKpdMlBt9FFxO4wTQCpD_ChD6ZMMWMZuKz-WuSsf_f-clQK6oxyDp3yeQHDNF-CA-IPDIhNOEWJogeIhqibKAvlWVYjm9ocIfBuhAwGEvLBb5xEYq-eEelgiAhYqwtAn1N8KVCD2W1V3F-R1NXCcxhglJfruS4lzpcEm3kjBlM8DWlUwhMmOPJGF1CCn8l-ksxZ0yqcEemzOCNsuvZBt8_aCjdp-LLWqdd8L5T20LfB29LvOwu330FSACMmztKVTKJmw49qSKPBhpjD4oepklVnYqeSU1Fg0BixzzJfobaYIUHJM5qgcCS64A2EgmRqiF2bUd2LI7YXLL7GNPAJeX5AVc3mOtwv-jYcUkM_iXmcs6pKtIrkmxBNMg-jG60zcbex3p7hDa74L-USZJeX14xEdmDEnMOD6Z4jxtjmOy8CnCIfMvzDR4RjKi2eYrXbK9mORW84uXNiNNQtWkcdPysWN5rGgyys5q--_y8Xua67zXtFG-eVeLLnOvH1mkDd-2K47ves-ifIX8dKX5m1bne4m-4nlMymqYUlUJRK6rKYa6YT_Fz3FYzB0pe1YoFpaCpaj6ba6f4W9dFWCVzqOYKeS2r5fLZA1VR0MNzmyfVdUREfyFNiVb7JzP5jaw?type=png)](https://mermaid.live/edit#pako:eNqtVc1u2kAQfpXVHitANgRwrIhTrz311rqyLHCC1YAjY6SmCCmA2rSiaqVcIlVq-wqOAwnh9xVm36gza8DQxpRW9cXe3ZlvvvlmZt3iZbdic52n02mj7jv-qa0zuIIQ5jBgMINAdERXXOByCGMGIwb3EMBC9ERHruFWXIi-UZf-Dd_y7aeOdeJZNaPO8JE7zDk2o4-jo3LVdcp2qfTYsfqH82zCOVxvUGpFJ_S8fPKKpdMlBt9FFxO4wTQCpD_ChD6ZMMWMZuKz-WuSsf_f-clQK6oxyDp3yeQHDNF-CA-IPDIhNOEWJogeIhqibKAvlWVYjm9ocIfBuhAwGEvLBb5xEYq-eEelgiAhYqwtAn1N8KVCD2W1V3F-R1NXCcxhglJfruS4lzpcEm3kjBlM8DWlUwhMmOPJGF1CCn8l-ksxZ0yqcEemzOCNsuvZBt8_aCjdp-LLWqdd8L5T20LfB29LvOwu330FSACMmztKVTKJmw49qSKPBhpjD4oepklVnYqeSU1Fg0BixzzJfobaYIUHJM5qgcCS64A2EgmRqiF2bUd2LI7YXLL7GNPAJeX5AVc3mOtwv-jYcUkM_iXmcs6pKtIrkmxBNMg-jG60zcbex3p7hDa74L-USZJeX14xEdmDEnMOD6Z4jxtjmOy8CnCIfMvzDR4RjKi2eYrXbK9mORW84uXNiNNQtWkcdPysWN5rGgyys5q--_y8Xua67zXtFG-eVeLLnOvH1mkDd-2K47ves-ifIX8dKX5m1bne4m-4nlMymqYUlUJRK6rKYa6YT_Fz3FYzB0pe1YoFpaCpaj6ba6f4W9dFWCVzqOYKeS2r5fLZA1VR0MNzmyfVdUREfyFNiVb7JzP5jaw)

 **Описание:**
 В интерфейсе настроек пользователь выбирает тип игры("по счёту"/"по времени") и вводит в текстовое поле игровое значение(лимит очков/время игры в секундах)
 Полученные данные проверяются на валидность, если они валидны:
    - Сохранить данные и преобразовать их для запуска игры
 Иначе:
    - Вывести сообщение об ошибке и очистить поле ввода
 Игра начинается при нажатии на кнопку "start", если пользователь нажимает на кнопку "back" происходит переход в главное меню игры


## Диаграмма последовательности

[![](https://mermaid.ink/img/pako:eNqtVMtu00AU_ZXR7BBuiJM0Dy-6QEiskJAKG-TNyB5aiyQujiNRokh5SASJqlVXsGGB-AHLJTQkxP2FmT_izExslChsgEjOPHzOufeeuZ4B9UKfU4f2-Os-73r8UcBOItZxuwS_5z0ekYOjI_KYdbhDxEeRiDs5lWOxxGwuJ0QsxI0cyekO_inz_bZifAV-BGwqVvJKM_Ryqab4z8QPw1QBNPMha7fB-ywSOcMzkRdEfAN9Ib6LuVhjnBuGAm7H-gLJTKwgu8aYbsNNgIN7eYCFuBU_DcQEuREZUlPbmVhDKUHGF1ppTjAkvwvZJ1xkLsf7s8ALoqmpKvpBoYYFURZioVJ5B8TGElOXzvnYCyNOID7VgisAZ5u8EW8mr-Vkf5V38HkEBirViW1qTXVFymBTJI70UoEzVK9yWMjLHb3C5H9R3DHsWdDhke6R3aJEamLIq7zBPmxz7xdk5aO2WR2ecUT150pvKt8xWeojnW0s_rOmtvm_aOrsiDq5mMVBLw68Xv75AD3OG_t2Y9pWQ5nD_jtu4a36EsH6ZFpLoRNTkHyvGQm1KFLssMDHxz9QbJfGp7zDXepg6rPolUvd7hA41o_D4_OuR5046nOL9s98FucXBXVesnYPu9wP4jB6Ym4TfalY9Ix1qTOgb6hTr5RalXrZLttVu1k9bNUsek4dLEvV2mG9gVeNWsVuNocWfRuGUC2Xmq0GNlp1u1JrNKp21aJR2D85LQJC_IWGqqyGvwBWb3Gt?type=png)](https://mermaid.live/edit#pako:eNqtVMtu00AU_ZXR7BBuiJM0Dy-6QEiskJAKG-TNyB5aiyQujiNRokh5SASJqlVXsGGB-AHLJTQkxP2FmT_izExslChsgEjOPHzOufeeuZ4B9UKfU4f2-Os-73r8UcBOItZxuwS_5z0ekYOjI_KYdbhDxEeRiDs5lWOxxGwuJ0QsxI0cyekO_inz_bZifAV-BGwqVvJKM_Ryqab4z8QPw1QBNPMha7fB-ywSOcMzkRdEfAN9Ib6LuVhjnBuGAm7H-gLJTKwgu8aYbsNNgIN7eYCFuBU_DcQEuREZUlPbmVhDKUHGF1ppTjAkvwvZJ1xkLsf7s8ALoqmpKvpBoYYFURZioVJ5B8TGElOXzvnYCyNOID7VgisAZ5u8EW8mr-Vkf5V38HkEBirViW1qTXVFymBTJI70UoEzVK9yWMjLHb3C5H9R3DHsWdDhke6R3aJEamLIq7zBPmxz7xdk5aO2WR2ecUT150pvKt8xWeojnW0s_rOmtvm_aOrsiDq5mMVBLw68Xv75AD3OG_t2Y9pWQ5nD_jtu4a36EsH6ZFpLoRNTkHyvGQm1KFLssMDHxz9QbJfGp7zDXepg6rPolUvd7hA41o_D4_OuR5046nOL9s98FucXBXVesnYPu9wP4jB6Ym4TfalY9Ix1qTOgb6hTr5RalXrZLttVu1k9bNUsek4dLEvV2mG9gVeNWsVuNocWfRuGUC2Xmq0GNlp1u1JrNKp21aJR2D85LQJC_IWGqqyGvwBWb3Gt)

При запуске игры происходит обновление экрана, объекты размещаются на начальные позиции. Пользователь/пользователи(в зависимости от выбранного режима игры), управляют своей ракеткой при помощи клавиатуры. При столкновении мяча с игровыми объектами происходит обновление состояния, если:
 - Мяч столкнулся с ракеткой или верхней/нижней границей игрового поля - изменение направления движения мяча
 - Мяч столкнулся с левой/правой границей игрового поля - начисление очков игроку и начало нового раунда

 При достижении условия окончания игры победителю предлагается внести свой результат в таблицу статистики через отдельное меню(для режима игры против другого пользователя). Условия окончания игры зависят от выбранного типа игры(до количества очков/по времени)
 В процессе игры на экране обновляется игровой таймер, время игры в качестве параметра заносится в таблицу рекордов.
 После завершения игры и записи результата в таблицу, пользователь возвращается в главное меню игры.
